<aura:component implements="flexipage:availableForRecordHome,forceCommunity:availableForAllPageTypes" access="global" controller="RetrieveArticles">
    
    <aura:attribute name="recordId" type="String"/>
    <aura:handler event="c:articleId" action="{!c.getValueEvent}"/>
    <aura:attribute name="files" type="ContentDocument[]"/>
    <aura:attribute name="fieldsArticle" type="String[]" default="['Name', 'Type_of_Article__c', 'Description__c']" />
    
    <!--<aura:handler name="init" value="{! this }" action="{! c.init }"/>-->
    <lightning:navigation aura:id="navService"/>
    
    <!-- First tab -->
    <lightning:tabset selectedTabId="one">
        <lightning:tab label="Description" id="one">
            <article class="slds-card">
                <div class="slds-card__header slds-grid" style="background-color:#F4F6F9; padding-bottom: 15px;">
                    <!-- Header -->
                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                        <!-- Icon -->
                        <div class="slds-media__figure">
                            <span class="slds-icon_container" title="article">
                                <lightning:icon iconName="standard:article" size="large" alternativeText="Indicates approval"/>
                                <span class="slds-assistive-text">Article</span>
                            </span>
                        </div>
                        <!-- Title -->
                        <div class="slds-media__body">
                            <h2 class="slds-card__header-title">
                                <a href="javascript:void(0);" class="slds-card__header-link slds-truncate" title="Articles">
                                    <span>Articles</span>
                                </a>
                            </h2>
                        </div>
                    </header>
                </div>
                <!--Body article-->
                <div class="slds-card__body slds-card__body_inner">
                    
                    <!-- Lightning Data Service for READ-->
                    <!--<lightning:recordViewForm recordId="{!v.recordId}" objectApiName="Article__c">                     
                        <lightning:outputField fieldName="Name"/>             
                        <lightning:outputField fieldName="Type_of_Article__c"/>
                        <lightning:outputField fieldName="Description__c"/>                        
                    </lightning:recordViewForm>-->
                    
                    <lightning:recordForm recordId="{!v.recordId}" 
                                          objectApiName="Article__c"
                                          mode="view"
                                          fields="{!v.fieldsArticle}" />
                  
                    
                </div>
            </article>
        </lightning:tab>
        
        <!-- Second tab -->
        <aura:if isTrue="{!v.files.length > 0}">
            <lightning:tab label="Files" id="two" >
                
                <aura:iteration items="{!v.files}" var="file">
                    <p>{!file.Title}</p>
                    <lightning:button label="Open" iconName="utility:expand" iconPosition="left" onclick="{!c.openFile}" value="{!file.Id}"/>
                </aura:iteration>      
                
            </lightning:tab>
        </aura:if>            
    </lightning:tabset>
</aura:component>